<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset ="utf-8">
        <title></title>
        <script src="script.js"></script>
    </head>
    <body>
        <script>

            let playerScore= 0;
            let computerScore= 0;

            function game(){
                console.log("----------------");

                function getComputerChoice(){
                    let rng = Math.floor(Math.random()* 3);
                    if (rng == 0){
                        rng = "Rock";  
                    } else if (rng == 1){
                        rng = "Paper";
                    } else {
                        rng = "Scissors";
                    }   
                    return rng;
                }

                let computerSelection= getComputerChoice().toString();
                let userInput= prompt("Rock, Paper, or Scissors?", "");
                let firstLetter= userInput.charAt(0);
                let remaining= userInput.slice(1);
                let lower= remaining.toLowerCase();
                let upper= firstLetter.toUpperCase();
                let playerSelection= upper.concat(lower);
                console.log(`You play ${playerSelection}`);
                console.log(`Computer plays ${computerSelection}`);

                function playRound(playerSelection, computerSelection){
                    if (
                        (playerSelection == "Rock" && computerSelection == "Scissors") ||
                        (playerSelection == "Paper" && computerSelection == "Rock") ||
                        (playerSelection == "Scissors" && computerSelection == "Paper")){ 
                           console.log(`You Win! ${playerSelection} beats ${computerSelection}`);
                           return "Win";
                    } else if (
                        (playerSelection == "Rock" && computerSelection == "Paper") ||
                        (playerSelection == "Paper" && computerSelection == "Scissors") ||
                        (playerSelection == "Scissors" && computerSelection == "Rock")){
                            console.log(`You Lose! ${computerSelection} beats ${playerSelection}`);
                            return "Lose";
                    } else if (playerSelection == computerSelection){
                            console.log("It is a Tie!");
                            return "Tie";
                    } else {
                            console.log("Not an accepted answer. Try again");
                            return "Not Valid"
                    }  
                }
                
                let roundResult= playRound(playerSelection, computerSelection);
                if (roundResult == "Win"){
                    console.log(`Player Score = ${++playerScore}. Computer Score = ${computerScore}`);
                    return playerScore;
                } else if (roundResult == "Lose"){
                    console.log(`Player Score = ${playerScore}. Computer Score = ${++computerScore}`);
                    return computerScore;
                } else {
                    console.log(`Player Score = ${playerScore}. Computer Score = ${computerScore}`);
                    return computerScore, playerScore;
                }
            }

            game();
            game();
            game();
            game();
            game();
                
            if (playerScore > computerScore){
                console.log("Congratulations! You WON the game!");
            } else if ( playerScore < computerScore){
                console.log("Sorry, you LOST the game");
            } else {
                console.log("The game ended in a TIE!");
            }
        </script>
    </body>
</html>